<div class="max-w-7xl mx-auto">
  <!-- Header -->
  <div class="mb-8">
    <h1 class="text-3xl font-black text-gray-900 mb-2">üéØ Dashboard</h1>
    <p class="text-gray-600">Vue d'ensemble de votre activit√© de recrutement</p>
  </div>

  <!-- KPIs -->
  <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 mb-6">
    <!-- KPI 1 -->
    <div class="bg-white rounded-2xl p-6 shadow-soft hover:shadow-soft-lg transition-shadow duration-200">
      <div class="flex items-start justify-between mb-4">
        <span class="text-sm text-gray-500 font-medium">Recherches lanc√©es</span>
        <div class="w-10 h-10 rounded-xl bg-primary-50 flex items-center justify-center">
          <i class="fa-solid fa-magnifying-glass text-primary-600"></i>
        </div>
      </div>
      <div class="text-3xl font-bold text-gray-900 mb-1">12</div>
      <div class="text-sm text-green-600 font-medium">+3 cette semaine</div>
    </div>

    <!-- KPI 2 -->
    <div class="bg-white rounded-2xl p-6 shadow-soft hover:shadow-soft-lg transition-shadow duration-200">
      <div class="flex items-start justify-between mb-4">
        <span class="text-sm text-gray-500 font-medium">Profils scrap√©s</span>
        <div class="w-10 h-10 rounded-xl bg-cyan-50 flex items-center justify-center">
          <i class="fa-solid fa-users text-cyan-600"></i>
        </div>
      </div>
      <div class="text-3xl font-bold text-gray-900 mb-1">847</div>
      <div class="text-sm text-cyan-600 font-medium">+127 ce mois</div>
    </div>

    <!-- KPI 3 -->
    <div class="bg-white rounded-2xl p-6 shadow-soft hover:shadow-soft-lg transition-shadow duration-200">
      <div class="flex items-start justify-between mb-4">
        <span class="text-sm text-gray-500 font-medium">Emails envoy√©s</span>
        <div class="w-10 h-10 rounded-xl bg-amber-50 flex items-center justify-center">
          <i class="fa-solid fa-envelope text-amber-600"></i>
        </div>
      </div>
      <div class="text-3xl font-bold text-gray-900 mb-1">324</div>
      <div class="text-sm text-amber-600 font-medium">+89 ce mois</div>
    </div>

    <!-- KPI 4 -->
    <div class="bg-white rounded-2xl p-6 shadow-soft hover:shadow-soft-lg transition-shadow duration-200">
      <div class="flex items-start justify-between mb-4">
        <span class="text-sm text-gray-500 font-medium">CV re√ßus</span>
        <div class="w-10 h-10 rounded-xl bg-green-50 flex items-center justify-center">
          <i class="fa-solid fa-file-circle-check text-green-600"></i>
        </div>
      </div>
      <div class="text-3xl font-bold text-gray-900 mb-1">156</div>
      <div class="text-sm text-green-600 font-medium">+42 ce mois</div>
    </div>
  </div>

  <!-- New search + Subscription -->
  <div class="grid grid-cols-1 lg:grid-cols-12 gap-4 mb-6">
    <!-- New Search -->
    <div class="lg:col-span-7 bg-gradient-to-br from-primary-50 via-purple-50 to-pink-50 rounded-2xl p-8 shadow-soft">
      <h3 class="text-xl font-bold text-gray-900 mb-2">Nouvelle recherche</h3>
      <p class="text-gray-600 mb-6">Lancez une recherche de candidats avec l'IA</p>
      <button (click)="onStartSearch($event)" [style.opacity]="(isGuest || !hasActiveSubscription) ? 0.6 : 1" class="px-6 py-3 bg-gradient-to-r from-primary-600 to-secondary-600 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-200 inline-flex items-center gap-2">
        <i class="fa-solid fa-magnifying-glass"></i>
        <span>Commencer une recherche</span>
      </button>
    </div>

    <!-- Subscription -->
    <div class="lg:col-span-5 bg-white rounded-2xl p-6 shadow-soft">
      <h3 class="text-lg font-bold text-gray-900 mb-4">Abonnement</h3>
      <p class="text-sm text-gray-500 mb-4">G√©rez votre forfait et vos limites</p>
      <div class="flex items-center justify-between text-sm mb-2">
        <span class="text-gray-600">Recherches utilis√©es</span>
        <span class="font-semibold text-gray-900">7/10</span>
      </div>
      <div class="w-full bg-gray-200 rounded-full h-2 mb-4">
        <div class="bg-gradient-to-r from-primary-600 to-secondary-600 h-2 rounded-full" style="width: 70%"></div>
      </div>
      <div class="grid grid-cols-2 gap-2">
        <button routerLink="/app/subscriptions" class="px-4 py-2.5 border-2 border-primary-600 text-primary-600 font-semibold rounded-xl hover:bg-primary-50 transition-colors duration-200">
          Voir plans
        </button>
        <button routerLink="/app/payment" class="px-4 py-2.5 bg-gradient-to-r from-primary-600 to-secondary-600 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-200">
          üí≥ Payer
        </button>
      </div>
    </div>
  </div>

  <!-- Historique des recherches -->
  <div class="bg-white rounded-2xl p-6 shadow-soft">
    <h3 class="text-lg font-bold text-gray-900 mb-1">Historique des recherches</h3>
    <p class="text-sm text-gray-500 mb-4">Vos derni√®res recherches de candidats</p>
    
    <div class="overflow-x-auto">
      <table class="w-full">
        <thead>
          <tr class="border-b border-gray-200">
            <th class="text-left py-3 px-4 text-sm font-semibold text-gray-700">Nom</th>
            <th class="text-left py-3 px-4 text-sm font-semibold text-gray-700">Date</th>
            <th class="text-left py-3 px-4 text-sm font-semibold text-gray-700">Statut</th>
            <th class="text-left py-3 px-4 text-sm font-semibold text-gray-700">Profils</th>
            <th class="text-left py-3 px-4 text-sm font-semibold text-gray-700">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors duration-200">
            <td class="py-4 px-4 text-sm font-semibold text-gray-900">D√©veloppeur Full Stack</td>
            <td class="py-4 px-4 text-sm text-gray-600">15/01/2025</td>
            <td class="py-4 px-4">
              <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold">Termin√©</span>
            </td>
            <td class="py-4 px-4 text-sm font-semibold text-gray-900">42</td>
            <td class="py-4 px-4">
              <button class="btn-icon btn-icon--view" (click)="onViewResults($event)" [class.btn-icon--disabled]="(isGuest || !hasActiveSubscription)" [attr.title]="(isGuest || !hasActiveSubscription) ? 'Disponible apr√®s souscription' : 'Voir les r√©sultats'">
                <i class="fa-solid fa-eye"></i>
              </button>
            </td>
          </tr>
          <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors duration-200">
            <td class="py-4 px-4 text-sm font-semibold text-gray-900">Data Scientist</td>
            <td class="py-4 px-4 text-sm text-gray-600">14/01/2025</td>
            <td class="py-4 px-4">
              <span class="px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-xs font-bold">En cours</span>
            </td>
            <td class="py-4 px-4 text-sm text-gray-600">-</td>
            <td class="py-4 px-4">
              <button disabled class="inline-flex items-center gap-2 px-4 py-2 text-gray-400 rounded-lg text-sm cursor-not-allowed">
                <i class="fa-solid fa-clock"></i>
                En attente
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
