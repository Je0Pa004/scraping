<div class="forgot-password-container">
  <div class="forgot-password-card">
    <div class="forgot-password-header">
      <h2 class="forgot-password-title">Reset Password</h2>
      <p class="forgot-password-subtitle" *ngIf="!emailSent">
        Enter your email address and we'll send you instructions to reset your password.
      </p>
      <p class="forgot-password-subtitle" *ngIf="emailSent">
        Check your email for password reset instructions.
      </p>
    </div>

    <div *ngIf="!emailSent" class="forgot-password-form">
      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
        <!-- Email Field -->
        <div class="form-group">
          <label for="email" class="form-label">Email Address</label>
          <div class="input-group">
            <span class="input-group-text">
              <i class="fas fa-envelope"></i>
            </span>
            <input
              type="email"
              id="email"
              formControlName="email"
              class="form-control"
              placeholder="Enter your email address"
              [class.is-invalid]="email?.invalid && email?.touched"
              [class.is-valid]="email?.valid && email?.touched">
          </div>
          <div class="invalid-feedback" *ngIf="email?.invalid && email?.touched">
            <span *ngIf="email?.errors?.['required']">Email is required</span>
            <span *ngIf="email?.errors?.['email']">Please enter a valid email address</span>
          </div>
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="btn btn-primary w-100 reset-btn"
          [disabled]="isLoading">
          <span *ngIf="isLoading" class="loader-custom me-2"></span>
          <i class="fas fa-paper-plane me-2" *ngIf="!isLoading"></i>
          {{ isLoading ? 'Sending...' : 'Send Reset Instructions' }}
        </button>
      </form>
    </div>

    <!-- Success Message -->
    <div *ngIf="emailSent" class="success-message">
      <div class="success-icon">
        <i class="fas fa-check-circle"></i>
      </div>
      <h3>Email Sent!</h3>
      <p>
        We've sent password reset instructions to <strong>{{ email?.value }}</strong>.
        Please check your email and follow the instructions to reset your password.
      </p>
      <p class="text-muted">
        Didn't receive the email? Check your spam folder or try again.
      </p>
      <button
        type="button"
        class="btn btn-outline-primary me-2"
        (click)="emailSent = false">
        <i class="fas fa-arrow-left me-2"></i>
        Try Different Email
      </button>
    </div>

    <!-- Back to Login -->
    <div class="forgot-password-footer">
      <button
        type="button"
        class="btn btn-link back-to-login-btn"
        (click)="backToLogin()">
        <i class="fas fa-arrow-left me-2"></i>
        Back to Login
      </button>
    </div>
  </div>
</div>
